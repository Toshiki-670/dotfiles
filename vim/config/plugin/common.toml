# statusline ------------------
[[plugins]]
repo = 'itchyny/lightline.vim'
hook_add = '''
let g:lightline = {
        \ 'mode_map': {'c': 'NORMAL'},
        \ 'active': {
        \   'left': [
        \     ['mode', 'paste'],
        \     ['fugitive', 'filename'],
        \   ],
        \   'right': [
        \     ['lineinfo', 'syntastic'],
        \     ['fileencoding', 'filetype', 'fileformat'],
        \   ]
        \ },
        \ 'component_function': {
        \   'modified': 'MyModified',
        \   'readonly': 'MyReadonly',
        \   'fugitive': 'MyFugitive',
        \   'filename': 'MyFilename',
        \   'fileformat': 'MyFileformat',
        \   'filetype': 'MyFiletype',
        \   'fileencoding': 'MyFileencoding',
        \   'mode': 'MyMode',
        \   'syntastic': 'SyntasticStatuslineFlag',
        \ }
        \ }

function! MyModified()
  return &ft =~ 'help\|vimfiler\|gundo' ? '' : &modified ? '+' : &modifiable ? '' : '-'
endfunction

function! MyReadonly()
  return &ft !~? 'help\|vimfiler\|gundo' && &ro ? '[RO]' : ''
endfunction

function! MyFilename()
  return ('' != MyReadonly() ? MyReadonly() . ' ' : '') .
        \ (&ft == 'vimfiler' ? vimfiler#get_status_string() :
        \  &ft == 'unite' ? unite#get_status_string() :
        \  &ft == 'vimshell' ? substitute(b:vimshell.current_dir,expand('~'),'~','') :
        \ '' != expand('%:t') ? expand('%:t') : '[No Name]') .
        \ ('' != MyModified() ? ' ' . MyModified() : '')
endfunction

function! MyFugitive()
  try
    if &ft !~? 'vimfiler\|gundo' && exists('*fugitive#head')
      let branch = fugitive#head()
      return strlen(branch) ? branch : ''
    endif
  catch
  endtry
  return ''
endfunction

function! MyFileformat()
  return winwidth('.') > 70 ? &fileformat : ''
endfunction

function! MyFiletype()
  return winwidth('.') > 70 ? (strlen(&filetype) ? &filetype : 'no ft') : ''
endfunction

function! MyFileencoding()
  return winwidth('.') > 70 ? (strlen(&fenc) ? &fenc : &enc) : ''
endfunction

function! MyMode()
  return winwidth('.') > 60 ? lightline#mode() : ''
endfunction

" https://github.com/Lokaltog/vim-powerline/blob/develop/autoload/Powerline/Functions.vim
'''

# Color schema ----------------
[[plugins]]
repo = 'sjl/badwolf'
# repo = 'altercation/vim-colors-solarized'
hook_add = '''
syntax enable
set background=dark
colorscheme badwolf
let g:molokai_original = 1
" highlight LineNr ctermfg=darkcyan
'''


# Syntax ----------------------
# [[plugins]]
# repo = 'cespare/vim-toml'
# on_ft = ['toml']

# Nerd Tree -------------------
# [[plugins]]
# repo = 'scrooloose/nerdtree'
# hook_add = '''
# set ttimeoutlen=50
# let g:NERDTreeShowBookmarks=1
# noremap <Space>t :NERDTreeToggle<Enter>
# '''
#
# # [[plugins]]
# # repo = 'jistr/vim-nerdtree-tabs'
# # hook_add = '''
# # let g:nerdtree_tabs_open_on_console_startup=1
# # noremap tree :NERDTreeTabsToggle<Enter>
# # '''
#
#
# [[plugins]]
# repo = 'Xuyuanp/nerdtree-git-plugin'
# hook_add = '''
# let g:NERDTreeIndicatorMapCustom = {
#     \ "Modified"  : "*",
#     \ "Staged"    : "+",
#     \ "Untracked" : "~",
#     \ "Renamed"   : "*",
#     \ "Unmerged"  : "!",
#     \ "Deleted"   : "-",
#     \ "Dirty"     : "*",
#     \ "Clean"     : "@",
#     \ 'Ignored'   : "_",
#     \ "Unknown"   : "?"
#     \ }
# '''

# Git -------------------------
[[plugins]]
repo = 'tpope/vim-fugitive'
hook_add = '''
nnoremap [git] <Nop>
nmap     <Space>g [git]
noremap <silent> [git]a :Gwrite<Enter>
noremap <silent> [git]c :Gcommit<Enter>
noremap <silent> [git]r :Gread<Enter>
'''

[[plugins]]
repo = 'airblade/vim-gitgutter'
hook_add = '''
set updatetime=250
'''

# Indent ----------------------
[[plugins]]
repo = 'Yggdroot/indentLine'
hook_add = '''
let g:indentLine_char = '|'
let g:indentLine_color_term = 239
'''

# Comment ---------------------
# [[plugins]]
# repo = 'tomtom/tcomment_vim'

# Cheatsheet ------------------
[[plugins]]
repo = 'reireias/vim-cheatsheet'
hook_add = '''
let g:cheatsheet#cheat_file = '~/dotfiles/vim/cheatsheet/common.md'
noremap <Space>ch :Cheat<Enter>
'''

