#!/bin/bash


# Constant
readonly CMDNAME=${0##*/}
readonly TRUE=1
readonly FALSE=0


function usage() {
cmdname_space=$(echo $CMDNAME | sed -e "s/./ /g")

  cat << __USAGE_TEXT__
Usage:
  $CMDNAME
  $CMDNAME [-A] [-p] [-R]
  $CMDNAME [-g] [-n]
  $CMDNAME [-h]
__USAGE_TEXT__
}

function description() {
  cat << '__DESCRIPTION_TEXT__'
Description:
  Archlinux full update tool.

Options:
  -A All update. (Alias to arch-update)
  -p pacman and pkgfile update.
  -R Remove cached package by using paccache.
  -g gem update.
  -n Neovim update.
  -h Show help.
__DESCRIPTION_TEXT__
}

function show_help() {
  usage
  echo
  description
}


can_update_pacman=$FALSE
can_remove_cache=$FALSE
can_update_gem=$FALSE
# can_update_neovim=$FALSE

# Option analysis
while getopts ApRgnh OPT
do
  case $OPT in
    "A" ) can_update_pacman=$TRUE
          can_remove_cache=$TRUE
          can_update_gem=$TRUE
          ;;
    "p" ) can_update_pacman=$TRUE ;;
    "R" ) can_remove_cache=$TRUE ;;
    "g" ) can_update_gem=$TRUE ;;
    "n" ) : ;;
    "h" ) show_help >&1
          exit 0
          ;;
    # Invalid options
      * ) usage 1>&2
          exit 1 ;;
  esac
done
# Trim options from $*
shift $(($OPTIND - 1))




exit $?
